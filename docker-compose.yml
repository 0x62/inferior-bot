version: "3.9"

services:
  discord-bot:
    image: ghcr.io/0x62/inferior-bot:master
    restart: unless-stopped
    env_file:
      - stack.env
    environment:
      DISCORD_TOKEN: ${DISCORD_TOKEN}
      DISCORD_CLIENT_ID: ${DISCORD_CLIENT_ID}
      DISCORD_GUILD_IDS: ${DISCORD_GUILD_IDS}
      MODERATOR_ROLE_IDS: ${MODERATOR_ROLE_IDS}
      OPENAI_API_KEY: ${OPENAI_API_KEY}
      XAI_API_KEY: ${XAI_API_KEY}
      DATABASE_PATH: /data/bot.db
      LOG_LEVEL: info
      LLM_MODEL: gpt-4o-mini
      LLM_BASE_URL: https://api.openai.com/v1
      XAI_MODEL: grok-4-fast
      XAI_BASE_URL: https://api.x.ai/v1
    volumes:
      - ./data:/data
